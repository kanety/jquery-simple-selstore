!function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist",o(o.s=2)}([function(e,t){e.exports=jQuery},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a="simple-selstore";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.opts={type:e.type||"session",key:e.key},this.inst=new l(this.opts)}return c(t,[{key:"get",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.inst.get(this.opts.key)||t}},{key:"set",value:function(e){this.inst.set(this.opts.key,e)}},{key:"remove",value:function(){this.inst.remove(this.opts.key)}}]),t}(),l=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.storage={local:window.localStorage,session:window.sessionStorage}[e.type]}return c(t,[{key:"get",value:function(e){try{var t=this.storage.getItem(e);return t?JSON.parse(t):null}catch(e){return console.log(e),null}}},{key:"set",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}},{key:"remove",value:function(e){this.storage.removeItem(e)}}]),t}();function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=t,this.options=n,this.$container=r()(e),this.$container.addClass("".concat(a,"-listview"))}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(i,[{key:"bind",value:function(){var t=this;this.$container.on("click.".concat(a),".ss-remove",function(e){t.instance.unselect(r()(e.target).parent().data("ss-id")),e.stopPropagation()})}},{key:"unbind",value:function(){this.$container.off(".".concat(a))}},{key:"container",value:function(){return this.$container}},{key:"items",value:function(){return this.$container.find(".ss-item")}},{key:"findItem",value:function(e){return this.items().filter('[data-ss-id="'.concat(e,'"]'))}},{key:"add",value:function(e,t){var n=r()('<span class="ss-item">').attr("data-ss-id",e).attr("data-ss-title",t);n.append(r()('<span class="ss-title">').text(t)),n.append(r()('<span class="ss-remove">')),n.append(r()('<input type="hidden">').attr("name",this.options.listname).val(e)),this.$container.append(n)}},{key:"remove",value:function(e){this.findItem(e).remove()}},{key:"clear",value:function(){this.$container.html("")}}]),i}();function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=t,this.options=n,this.$container=r()(e),this.$container.addClass("".concat(a,"-selector"))}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(i,[{key:"bind",value:function(){var o=this;this.$container.on("click.".concat(a),this.options.checkbox,function(e){var t=r()(e.target),n=t.attr("data-ss-id")||t.attr("value"),i=t.attr("data-ss-title")||t.parent().text();if(t.prop("checked")){if(o.exeeded())return o.options.maxAlert&&alert(o.options.maxAlert),void e.preventDefault();o.instance.select(n,i)}else o.instance.unselect(n)})}},{key:"unbind",value:function(){this.$container.off(".".concat(a))}},{key:"checkboxes",value:function(){return this.$container.find(this.options.checkbox)}},{key:"findCheckbox",value:function(e){return this.checkboxes().filter('[value="'.concat(e,'"], [data-ss-id="').concat(e,'"]'))}},{key:"check",value:function(e){this.findCheckbox(e).prop("checked",!0)}},{key:"uncheck",value:function(e){this.findCheckbox(e).prop("checked",!1)}},{key:"clear",value:function(){this.checkboxes().prop("checked",!1)}},{key:"exeeded",value:function(){if(this.options.maxSelect&&this.instance.listview.items().length>=this.options.maxSelect)return!0;return!1}}]),i}();function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y={checkbox:"input:checkbox",listname:"items[]",maxSelect:null,maxAlert:null,store:null,storeKey:null},k=function(){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.options=r.a.extend(!0,{},y,n),this.selector=new d(e,this,this.options),this.listview=new h(t,this,this.options),this.options.store&&this.options.storeKey&&(this.store=new u({type:this.options.store,key:this.options.storeKey})),this.load(),this.bind()}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(i,[{key:"bind",value:function(){this.selector.bind(),this.listview.bind()}},{key:"unbind",value:function(){this.selector.unbind(),this.listview.unbind()}},{key:"select",value:function(e,t){this.selector.check(e),this.listview.add(e,t),this.save()}},{key:"unselect",value:function(e){this.selector.uncheck(e),this.listview.remove(e),this.save()}},{key:"load",value:function(){var t=this;if(this.store){var e=this.store.get();e&&e.forEach(function(e){t.select(e.id,e.title)})}}},{key:"save",value:function(){if(this.store){var e=this.listview.items().map(function(e,t){var n=r()(t);return{id:n.data("ss-id"),title:n.data("ss-title")}}).get();this.store.set(e)}}},{key:"clear",value:function(){this.selector.clear(),this.listview.clear(),this.store&&this.store.remove()}}],[{key:"getDefaults",value:function(){return y}},{key:"setDefaults",value:function(e){return r.a.extend(!0,y,e)}}]),i}();n(1);r.a.fn.simpleSelstore=function(o,s){return this.each(function(e,t){var n=r()(t);if(!n.data(a)){var i=new k(n,o,s);n.data(a,i)}})},r.a.SimpleSelstore=k}]);