!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dist",o(o.s=2)}([function(t,e){t.exports=jQuery},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),r="simple-selstore";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var u=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.opts={type:t.type||"session",key:t.key},this.inst=new l(this.opts)}return c(e,[{key:"get",value:function(t){var e=0<arguments.length&&void 0!==t?t:null;return this.inst.get(this.opts.key)||e}},{key:"set",value:function(t){this.inst.set(this.opts.key,t)}},{key:"remove",value:function(){this.inst.remove(this.opts.key)}}]),e}(),l=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.storage={local:window.localStorage,session:window.sessionStorage}[t.type]}return c(e,[{key:"get",value:function(t){try{var e=this.storage.getItem(t);return e?JSON.parse(e):null}catch(t){return console.log(t),null}}},{key:"set",value:function(t,e){try{this.storage.setItem(t,JSON.stringify(e))}catch(t){console.log(t)}}},{key:"remove",value:function(t){this.storage.removeItem(t)}}]),e}();function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=e,this.options=n,this.$container=s()(t),this.init()}return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(i,[{key:"init",value:function(){this.$container.addClass("".concat(r,"-listview")),this.unbind(),this.bind()}},{key:"destroy",value:function(){this.$container.removeClass("".concat(r,"-listview")),this.unbind()}},{key:"bind",value:function(){var e=this;this.$container.on("click.".concat(r),".ss-remove",function(t){e.instance.unselect(s()(t.target).parent().data("ss-id")),t.stopPropagation()})}},{key:"unbind",value:function(){this.$container.off(".".concat(r))}},{key:"items",value:function(){return this.$container.find(".ss-item")}},{key:"findItem",value:function(t){return this.items().filter('[data-ss-id="'.concat(t,'"]'))}},{key:"add",value:function(t,e){var n=s()('<span class="ss-item">').attr("data-ss-id",t).attr("data-ss-title",e);n.append(s()('<span class="ss-title">').text(e)),n.append(s()('<span class="ss-remove">')),n.append(s()('<input type="hidden">').attr("name",this.options.listname).val(t)),this.$container.append(n)}},{key:"remove",value:function(t){this.findItem(t).remove()}},{key:"clear",value:function(){this.$container.html("")}}]),i}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=e,this.options=n,this.$container=s()(t),this.init()}return function(t,e,n){e&&v(t.prototype,e),n&&v(t,n)}(i,[{key:"init",value:function(){this.$container.addClass("".concat(r,"-selector")),this.unbind(),this.bind()}},{key:"destroy",value:function(){this.$container.removeClass("".concat(r,"-selector")),this.unbind()}},{key:"bind",value:function(){var o=this;this.$container.on("click.".concat(r),this.options.checkbox,function(t){var e=s()(t.target),n=e.attr("data-ss-id")||e.attr("value"),i=e.attr("data-ss-title")||e.parent().text();if(e.prop("checked")){if(o.exeeded())return o.options.maxAlert&&alert(o.options.maxAlert),void t.preventDefault();o.instance.select(n,i)}else o.instance.unselect(n)})}},{key:"unbind",value:function(){this.$container.off(".".concat(r))}},{key:"checkboxes",value:function(){return this.$container.find(this.options.checkbox)}},{key:"findCheckbox",value:function(t){return this.checkboxes().filter('[value="'.concat(t,'"], [data-ss-id="').concat(t,'"]'))}},{key:"check",value:function(t){this.findCheckbox(t).prop("checked",!0)}},{key:"uncheck",value:function(t){this.findCheckbox(t).prop("checked",!1)}},{key:"clear",value:function(){this.checkboxes().prop("checked",!1)}},{key:"exeeded",value:function(){if(this.options.maxSelect&&this.instance.listview.items().length>=this.options.maxSelect)return!0;return!1}}]),i}();function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y={checkbox:"input:checkbox",listname:"items[]",maxSelect:null,maxAlert:null,store:null,storeKey:null},k=function(){function i(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.options=s.a.extend(!0,{},y,n),this.selector=new d(t,this,this.options),this.listview=new h(e,this,this.options),this.options.store&&this.options.storeKey&&(this.store=new u({type:this.options.store,key:this.options.storeKey})),this.load()}return function(t,e,n){e&&p(t.prototype,e),n&&p(t,n)}(i,[{key:"destroy",value:function(){this.selector.destroy(),this.listview.destroy()}},{key:"select",value:function(t,e){this.selector.check(t),this.listview.add(t,e),this.save()}},{key:"unselect",value:function(t){this.selector.uncheck(t),this.listview.remove(t),this.save()}},{key:"load",value:function(){var e=this;if(this.store){var t=this.store.get();t&&t.forEach(function(t){e.select(t.id,t.title)})}}},{key:"save",value:function(){if(this.store){var t=this.listview.items().map(function(t,e){var n=s()(e);return{id:n.data("ss-id"),title:n.data("ss-title")}}).get();this.store.set(t)}}},{key:"clear",value:function(){this.selector.clear(),this.listview.clear(),this.store&&this.store.remove()}}],[{key:"getDefaults",value:function(){return y}},{key:"setDefaults",value:function(t){return s.a.extend(!0,y,t)}}]),i}();n(1);s.a.fn.simpleSelstore=function(i,o){return this.each(function(t,e){var n=s()(e);n.data(r)&&n.data(r).destroy(),n.data(r,new k(n,i,o))})},s.a.SimpleSelstore=k}]);