!function(n){var i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist",a(a.s=2)}([function(e,t){e.exports=jQuery},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s="simple-selstore";function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=t,this.options=n,this.$container=r()(e),this.$container.addClass("".concat(s,"-listview"))}var e,t,n;return e=i,(t=[{key:"bind",value:function(){var t=this;this.$container.on("click.".concat(s),".ss-remove",function(e){t.instance.unselect(r()(e.target).parent().data("ss-id")),e.stopPropagation()})}},{key:"unbind",value:function(){this.$container.off(".".concat(s))}},{key:"container",value:function(){return this.$container}},{key:"items",value:function(){return this.$container.find(".ss-item")}},{key:"findItem",value:function(e){return this.items().filter('[data-ss-id="'.concat(e,'"]'))}},{key:"add",value:function(e,t){var n=r()('<span class="ss-item">').attr("data-ss-id",e).attr("data-ss-title",t);n.append(r()('<span class="ss-title">').text(t)),n.append(r()('<span class="ss-remove">')),n.append(r()('<input type="hidden">').attr("name",this.options.listname).val(e)),this.$container.append(n)}},{key:"remove",value:function(e){this.findItem(e).remove()}},{key:"clear",value:function(){this.$container.html("")}}])&&a(e.prototype,t),n&&a(e,n),i}();function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.instance=t,this.options=n,this.$container=r()(e),this.$container.addClass("".concat(s,"-selector"))}var e,t,n;return e=i,(t=[{key:"bind",value:function(){var a=this;this.$container.on("click.".concat(s),this.options.checkbox,function(e){var t=r()(e.target),n=t.attr("data-ss-id")||t.attr("value"),i=t.attr("data-ss-title")||t.parent().text();if(t.prop("checked")){if(a.exeeded())return a.options.maxAlert&&alert(a.options.maxAlert),void e.preventDefault();a.instance.select(n,i)}else a.instance.unselect(n)})}},{key:"unbind",value:function(){this.$container.off(".".concat(s))}},{key:"checkboxes",value:function(){return this.$container.find(this.options.checkbox)}},{key:"findCheckbox",value:function(e){return this.checkboxes().filter('[value="'.concat(e,'"], [data-ss-id="').concat(e,'"]'))}},{key:"check",value:function(e){this.findCheckbox(e).prop("checked",!0)}},{key:"uncheck",value:function(e){this.findCheckbox(e).prop("checked",!1)}},{key:"clear",value:function(){this.checkboxes().prop("checked",!1)}},{key:"exeeded",value:function(){if(this.options.maxSelect&&this.instance.listview.items().length>=this.options.maxSelect)return!0;return!1}}])&&c(e.prototype,t),n&&c(e,n),i}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.instance=e,this.key=t.storeKey,this.storage=n.storage(t.storeType)}var e,t,i;return e=n,i=[{key:"storage",value:function(e){return"local"==e?window.localStorage:window.sessionStorage}},{key:"saveData",value:function(e,t,n){var i=JSON.stringify(n);e.setItem(t,i)}},{key:"loadData",value:function(e,t){var n=e.getItem(t);return n?JSON.parse(n):[]}}],(t=[{key:"save",value:function(e){n.saveData(this.storage,this.key,e)}},{key:"load",value:function(){return n.loadData(this.storage,this.key)}},{key:"clear",value:function(){this.storage.removeItem(this.key)}}])&&l(e.prototype,t),i&&l(e,i),n}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v={checkbox:"input:checkbox",listname:"items[]",storeKey:s,storeType:"session",maxSelect:null,maxAlert:null},d=function(){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.options=r.a.extend(!0,{},v,n),this.selector=new u(e,this,this.options),this.listview=new o(t,this,this.options),this.store=new f(this,this.options),this.load(),this.bind()}var e,t,n;return e=i,n=[{key:"getDefaults",value:function(){return v}},{key:"setDefaults",value:function(e){r.a.extend(!0,v,e)}}],(t=[{key:"bind",value:function(){this.selector.bind(),this.listview.bind()}},{key:"unbind",value:function(){this.selector.unbind(),this.listview.unbind()}},{key:"select",value:function(e,t){this.selector.check(e),this.listview.add(e,t),this.save()}},{key:"unselect",value:function(e){this.selector.uncheck(e),this.listview.remove(e),this.save()}},{key:"load",value:function(){var t=this;this.store.load().forEach(function(e){t.select(e.id,e.title)})}},{key:"save",value:function(){var e=this.listview.items().map(function(e,t){var n=r()(t);return{id:n.data("ss-id"),title:n.data("ss-title")}}).get();this.store.save(e)}},{key:"clear",value:function(){this.selector.clear(),this.listview.clear(),this.store.clear()}}])&&h(e.prototype,t),n&&h(e,n),i}();n(1);r.a.fn.simpleSelstore=function(a,o){return this.each(function(e,t){var n=r()(t);if(!n.data(s)){var i=new d(n,a,o);n.data(s,i)}})},r.a.SimpleSelstore=d}]);